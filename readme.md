# 前言

文件夹exe病毒是一种流传甚广的病毒，经常由于用户的安全性不高而导致感染

如果您观察到您的U盘/硬盘分区有下列情形的时候，那么您的U盘/硬盘分区就感染了文件夹exe病毒

![img](https://bkimg.cdn.bcebos.com/pic/4a36acaf2edda3ccc30e3f0406e93901213f9228)

你可以看到这张截图有“两个”同名的“文件夹”，但是下面的“文件夹”大小仅1,127KB，图标为WindowsXP文件夹的图标（上图截图环境为`Windows7`），类型为应用程序（文件夹不是应用程序，简单来说，文件夹没有后缀名）。由此我们得知，下面的“文件夹”（`电影.exe`）不是一个真正的文件夹。

打开假文件夹，它表面上看会打开真正的文件夹，但是实际上，它在后台偷偷下载了病毒文件并试图感染更多的文件夹，此病毒会隐藏真正的文件夹，创建一个虚拟的文件夹（传播途径，也就是假文件夹）

由于此病毒年代过于久远，看不到此病毒的源码，因此我们不知道它会不会在某一个时间点格式化您的硬盘或删除您宝贵的数据，因此，解决掉此病毒非常重要

关于这个病毒的更多信息：[文件夹EXE病毒_百度百科 (baidu.com)](https://baike.baidu.com/item/文件夹EXE病毒/263553)

事实上，这个病毒已经被各大杀毒软件列为危险项，杀毒软件会自动删除它，但是在没有安装杀毒软件的系统上，此类病毒非常广泛，因此，我们需要安装杀毒软件来消除此病毒

但有些时候，杀毒软件可能不会工作（比如学校电脑的冰点还原+落后的Windows Defender），让此类病毒拥有更广阔的传播空间，因此，WhitemuTeam在9个小时的努力后写出了一款程序，使其能够暂时在一定范围内撑过一段时间不被感染文件夹exe病毒

# 使用

使用此工具的系统环境应该为Windows7 x64或以上，达不到的请使用源码编译或直接运行此工具

请注意：此工具会删除分区根目录下与文件夹同名的文件，请注意有没有珍贵文件需要备份

运行`GUI.exe`或`GUI.py`(Python环境下)

首先我们点击“清除电脑中的文件夹exe病毒”，这会读取注册表并找出病毒的主文件名并结束病毒进程，删除病毒主文件及其依赖文件（包括易语言支持库），这还会删除所有的假文件夹，显示隐藏的真文件夹

然后我们也可以“清除U盘中的文件夹exe病毒”，这个实际上和上面的选项没有太大差异，换句话来说就是自定义清除范围，如果你点了“清除电脑中的文件夹exe病毒”就不用点这里（如果你提前插入U盘的话）

上述操作完成后，部分文件夹exe病毒可能需要您手动删除，删除XP图标的文件夹exe即可

然后我们需要继续点击“阻止U盘继续被感染exe病毒”，然后这个程序就会在U盘目录下删除原有的`autorun.inf`（如果有提前自定义图标的话，图标可能会失效）并复制程序根目录的`autorun.inf`和`safe.exe`到程序根目录中并添加隐藏属性（如有自定义图标需求请更改`autorun.inf`并添加icon属性而不是删减里面的内容），完成后，每当U盘插入后，`safe.exe`会自动运行，检查电脑中有没有文件夹`exe`病毒并尝试修复（每隔60s检查一次，一共3次）

# 源码

为保证安全性，我们开源了此程序：

程序源码：`main.py`(主程序) `GUI.py`(GUI支持) `safe.py`(隐藏杀毒)

[WhitemuTeam/Folder-exe-virus-killer: 文件夹exe专杀器（针对某高中的拉跨系统制作） (github.com)](https://github.com/WhitemuTeam/Folder-exe-virus-killer)

[Folder-exe-virus-killer: 文件夹exe专杀器（针对某高中的拉跨系统制作） (gitee.com)](https://gitee.com/WhitemuTeam/Folder-exe-virus-killer)

# 吐槽

正如开源地址上面写的，某高中的系统真的是拉跨，具体表现为：

冰点还原程序没有发挥防病毒的作用（在虚拟机释放此系统wim文件，会因为冰点还原的dll文件而蓝屏）

Windows Defender没有发挥防病毒的作用（而且一个主流杀毒软件都没有）

你家交问卷，看B站学校开幕式视频用IE11?

# 关于

作者：White_mu(WhitemuTeam):高一，负责程序开发，文件夹exe病毒受害者

邮箱：master@muspace.top

博客：[沐の空间 - 做自己的学习笔记 (muspace.top)](https://muspace.top/)